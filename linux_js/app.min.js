/*! nav v1.0.0 | (c) 2019 overbool |  */
(function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = "function" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error("Cannot find module '" + i + "'"); throw a.code = "MODULE_NOT_FOUND", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = "function" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({
    1: [function (require, module, exports) {
        "use strict"; $(document).on("click", ".menu-collapse .menu-header", function (e) { $(this).toggleClass("active"), $(this).parent().find(".menu-list").toggleClass("active") }), $(document).on("click", ".menu-item", function (e) { $(".sidenav .menu-item").removeClass("active"), $(this).addClass("active") }), new SmoothScroll('a[href*="#"]', { speedAsDuration: !0, speed: 600, offset: 24 }), $(document).on("click", ".navbar-burger", function (e) { $(this).toggleClass("active"), $(".sidenav").toggleClass("active") }), $(document).on("click", ".add-navigation", function (e) { e.preventDefault(), $(this).css("display", "none"), $(".navigation-submit").css("display", "block"), $(".form-control-site-name").focus() }), $(document).on("click", ".navigation-submit-close", function (e) { e.preventDefault(), $(this).parent().parent().css("display", "none"), $(".add-navigation").css("display", "flex") }), $(document).on("submit", ".navigation-submit", function (e) { e.preventDefault(); var t = $(this).serialize() + "&action=ajaxSubmitNavigation"; $(this).trigger("reset"), wpieAjaxRequest(wpieAjax.ajaxUrl, "POST", t, function (e) { var t = $.parseHTML(e.msg); $(t).insertBefore(".add-navigation-wrap"), $(".navigation-submit").css("display", "none"), $(".add-navigation").css("display", "flex") }) }), $(document).on("click", ".card-delete", function (e) { e.preventDefault(); var t = "id=" + $(this).data("id") + "&action=ajaxDeleteNavigation", a = $(this).parent().parent().parent(); wpieAjaxRequest(wpieAjax.ajaxUrl, "POST", t, function (e) { a.remove() }) }), $(document).on("click", ".btn-modal", function (e) { e.preventDefault(), $(".modal").removeClass("modal-active"); var t = $(this).data("target"); $(t).addClass("modal-active") }), $(document).on("click", ".modal-close, .btn-modal-close", function (e) { e.preventDefault(), e.stopPropagation(), $(".modal").removeClass("modal-active") }), $(document).on("click", ".modal-content", function (e) { e.stopPropagation() }), $(document).on("click", ".modal", function (e) { e.preventDefault(), $(this).removeClass("modal-active") }), $(document).on("click", ".menu-item", function (e) { isHomePage || (window.location.href = homeURL + "/" + $(this).attr("href")) }), $(document).on("click", ".card", function (e) { var t = "pid=" + $(this).data("pid") + "&action=ajaxVisitBookmark"; wpieAjaxRequest(wpieAjax.ajaxUrl, "POST", t, function (e) { console.log(e) }) }), $(document).on("click", ".card-love", function (e) { e.preventDefault(); var t = $(this).data("pid"); if (!Cookies.get("love_" + t)) { var a = "pid=" + t + "&action=ajaxLoveBookmark", n = $(this).find(".card-love-count"), i = $(this); wpieAjaxRequest(wpieAjax.ajaxUrl, "POST", a, function (e) { i.addClass("active"), i.find(".czs-heart-l").removeClass("czs-heart-l").addClass("czs-heart"), n.html(e.extra) }) } }); var $noticeWrap = $(".notice-carousel-wrap"); $noticeWrap.each(function () { var e = $(this).find(".notice-item").length, t = $(this); 1 < e && setInterval(function () { t.stop(!0, !0).animate({ top: "-44px" }, 200, function () { t.css("top", "-2px"), t.append(t.find(".notice-item:first")) }) }, 6e3) }), $(document).on("click", ".fighting", function () { $("body, html").animate({ scrollTop: 0 }, 600) }), $(window).scroll(function () { 1e3 < $(document).scrollTop() ? $(".fighting").addClass("active") : $(".fighting").removeClass("active") }), window.onload = function () { $(window).trigger("scroll") }, $(window).resize(function () { $(window).trigger("scroll") }); var elements = Array.prototype.slice.call(document.querySelectorAll(".js-switch")), $btnBrief = document.getElementById("js-brief"), $btnDark = document.getElementById("js-dark"); "true" === Cookies.get("brief") && ($btnBrief.checked = "checked"), "true" === Cookies.get("dark") && ($btnDark.checked = "checked", $("body").addClass("dark")), $btnBrief.onchange = function () { $btnBrief.checked ? (Cookies.set("brief", !0), $(".card").addClass("card-brief")) : (Cookies.set("brief", !1), $(".card").removeClass("card-brief")) }, $btnDark.onchange = function () { $btnDark.checked ? (Cookies.set("dark", "true"), $("body").addClass("dark")) : (Cookies.set("dark", "false"), $("body").removeClass("dark")) }, elements.forEach(function (e) { new Switchery(e, { size: "small" }) });


    }, {}]
}, {}, [1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9fYnJvd3Nlci1wYWNrQDYuMS4wQGJyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsImpzL2Rpc3QvYXBwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO2FDQUEsRUFBRSxVQUFVLEdBQUcsUUFBUyw4QkFBK0IsU0FBVSxHQUMvRCxFQUFBLE1BQUEsWUFBQSxVQUNBLEVBQUEsTUFBQSxTQUFBLEtBQUEsY0FBQSxZQUFBLFlBR0QsRUFMRCxVQUFBLEdBQUEsUUFBQSxhQUFBLFNBQUEsR0FPRSxFQUFBLHVCQUFzQixZQUFjLFVBQ3BDLEVBQUUsTUFBQSxTQUFBLFlBSUosSUFBSSxhQUFhLGVBQWdCLENBQy9CLGlCQUFpQixFQUNqQixNQUFPLElBQ1AsT0FBUSxLQUlSLEVBQUEsVUFBUSxHQUFBLFFBQVksaUJBQXBCLFNBQUEsR0FDQSxFQUFFLE1BQUEsWUFBWSxVQUZoQixFQUFBLFlBQUEsWUFBQSxZQU9FLEVBQUEsVUFBUSxHQUFJLFFBQVosa0JBQUEsU0FBQSxHQUNBLEVBQUUsaUJBQ0YsRUFBRSxNQUFBLElBQUEsVUFBQSxRQUpKLEVBQUEsc0JBQUEsSUFBQSxVQUFBLFNBT0UsRUFBQSwyQkFBc0IsVUFHdEIsRUFBQSxVQUFFLEdBQUEsUUFBbUIsMkJBQXJCLFNBQUEsR0FIRixFQUFBLGlCQU1FLEVBQUEsTUFBRCxTQUFjLFNBQVUsSUFBQSxVQUFBLFFBQ3ZCLEVBQUUsbUJBQUYsSUFBQSxVQUFBLFVBR0EsRUFBQSxVQUFBLEdBQUEsU0FBZ0IscUJBQTBCLFNBQU0sR0FDOUMsRUFBQSxpQkFDQSxJQUFFLEVBQUssRUFBQSxNQUFQLFlBQW9CLCtCQUNwQixFQUFBLE1BQUUsUUFBQSxTQUNGLGdCQUFFLFNBQW1CLFFBQUksT0FBVyxFQUFwQyxTQUFBLEdBSkYsSUFBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEtBSkYsRUFBQSxHQUFBLGFBQUEsd0JBWUUsRUFBQSxzQkFBc0IsSUFBQSxVQUFnQixRQUNwQyxFQUFBLG1CQUFGLElB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SUFBSSxPQUFRLFNBQ3BCLEVBQUUsUUFBUSxZQUFZLFVBSTFCLFNBQVMsUUFBUSxTQUFVLEdBQ3pCLElBQUksVUFBVSxFQUFNLENBQUMsS0FBTSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcubWVudS1jb2xsYXBzZSAubWVudS1oZWFkZXInLCBmdW5jdGlvbiAoZSkge1xuICAvLyAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5tZW51LWxpc3QnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgLy8gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcubWVudS1oZWFkZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJylcbiAgJCh0aGlzKS5wYXJlbnQoKS5maW5kKCcubWVudS1saXN0JykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpXG59KVxuXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCAnLm1lbnUtaXRlbScsIGZ1bmN0aW9uIChlKSB7XG4gICQoJy5zaWRlbmF2IC5tZW51LWl0ZW0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJylcbn0pXG5cbm5ldyBTbW9vdGhTY3JvbGwoJ2FbaHJlZio9XCIjXCJdJywge1xuICBzcGVlZEFzRHVyYXRpb246IHRydWUsXG4gIHNwZWVkOiA2MDAsXG4gIG9mZnNldDogMjQsXG59KVxuXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCAnLm5hdmJhci1idXJnZXInLCBmdW5jdGlvbiAoZSkge1xuICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKVxuICAkKCcuc2lkZW5hdicpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKVxufSlcblxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5hZGQtbmF2aWdhdGlvbicsIGZ1bmN0aW9uIChlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKVxuICAkKHRoaXMpLmNzcygnZGlzcGxheScsICdub25lJylcbiAgJCgnLm5hdmlnYXRpb24tc3VibWl0JykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICQoJy5mb3JtLWNvbnRyb2wtc2l0ZS1uYW1lJykuZm9jdXMoKVxufSlcblxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5uYXZpZ2F0aW9uLXN1Ym1pdC1jbG9zZScsIGZ1bmN0aW9uIChlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKVxuICAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmNzcygnZGlzcGxheScsICdub25lJylcbiAgJCgnLmFkZC1uYXZpZ2F0aW9uJykuY3NzKCdkaXNwbGF5JywgJ2ZsZXgnKTtcbn0pXG5cbiQoZG9jdW1lbnQpLm9uKCdzdWJtaXQnLCAnLm5hdmlnYXRpb24tc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIGNvbnN0IGRhdGEgPSAkKHRoaXMpLnNlcmlhbGl6ZSgpICsgJyZhY3Rpb249YWpheFN1Ym1pdE5hdmlnYXRpb24nXG4gICQodGhpcykudHJpZ2dlcigncmVzZXQnKVxuICB3cGllQWpheFJlcXVlc3Qod3BpZUFqYXguYWpheFVybCwgJ1BPU1QnLCBkYXRhLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGNvbnN0IGRvbSA9ICQucGFyc2VIVE1MKGRhdGEubXNnKVxuICAgICQoZG9tKS5pbnNlcnRCZWZvcmUoJy5hZGQtbmF2aWdhdGlvbi13cmFwJylcbiAgICAkKCcubmF2aWdhdGlvbi1zdWJtaXQnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICQoJy5hZGQtbmF2aWdhdGlvbicpLmNzcygnZGlzcGxheScsICdmbGV4Jyk7XG4gIH0pXG59KVxuXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmNhcmQtZGVsZXRlJywgZnVuY3Rpb24gKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIGNvbnN0IGRhdGEgPSAnaWQ9JyArICQodGhpcykuZGF0YSgnaWQnKSArICcmYWN0aW9uPWFqYXhEZWxldGVOYXZpZ2F0aW9uJ1xuICBjb25zdCBwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpXG4gIHdwaWVBamF4UmVxdWVzdCh3cGllQWpheC5hamF4VXJsLCAnUE9TVCcsIGRhdGEsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgcGFyZW50LnJlbW92ZSgpXG4gIH0pXG59KVxuXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmJ0bi1tb2RhbCcsIGZ1bmN0aW9uIChlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKVxuICAkKCcubW9kYWwnKS5yZW1vdmVDbGFzcygnbW9kYWwtYWN0aXZlJylcbiAgbGV0ICRpZCA9ICQodGhpcykuZGF0YSgndGFyZ2V0JylcbiAgJCgkaWQpLmFkZENsYXNzKCdtb2RhbC1hY3RpdmUnKVxufSlcblxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5tb2RhbC1jbG9zZSwgLmJ0bi1tb2RhbC1jbG9zZScsIGZ1bmN0aW9uIChlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKVxuICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICQoJy5tb2RhbCcpLnJlbW92ZUNsYXNzKCdtb2RhbC1hY3RpdmUnKVxuICAvLyAkKHRoaXMpLnBhcmVudHMoJy5tb2RhbCcpLnJlbW92ZUNsYXNzKCdtb2RhbC1hY3RpdmUnKVxufSlcblxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5tb2RhbC1jb250ZW50JywgZnVuY3Rpb24gKGUpIHtcbiAgZS5zdG9wUHJvcGFnYXRpb24oKVxufSlcblxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5tb2RhbCcsIGZ1bmN0aW9uIChlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKVxuICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdtb2RhbC1hY3RpdmUnKVxufSlcblxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5tZW51LWl0ZW0nLCBmdW5jdGlvbiAoZSkge1xuICBpZiAoIWlzSG9tZVBhZ2UpIHtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGhvbWVVUkwgKyAnLycgKyAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgfVxufSlcblxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5jYXJkJywgZnVuY3Rpb24gKGUpIHtcbiAgY29uc3QgJHBpZCA9ICQodGhpcykuZGF0YSgncGlkJylcbiAgY29uc3QgZGF0YSA9ICdwaWQ9JyArICRwaWQgKyAnJmFjdGlvbj1hamF4VmlzaXRCb29rbWFyayc7XG4gIHdwaWVBamF4UmVxdWVzdCh3cGllQWpheC5hamF4VXJsLCAnUE9TVCcsIGRhdGEsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgY29uc29sZS5sb2coZGF0YSlcbiAgfSlcbn0pXG5cbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuY2FyZC1sb3ZlJywgZnVuY3Rpb24gKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIGNvbnN0ICRwaWQgPSAkKHRoaXMpLmRhdGEoJ3BpZCcpXG4gIGlmIChDb29raWVzLmdldCgnbG92ZV8nICsgJHBpZCkpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IGRhdGEgPSAncGlkPScgKyAkcGlkICsgJyZhY3Rpb249YWpheExvdmVCb29rbWFyayc7XG4gIGNvbnN0ICRjb3VudCA9ICQodGhpcykuZmluZCgnLmNhcmQtbG92ZS1jb3VudCcpXG4gIGNvbnN0ICR0aGlzID0gJCh0aGlzKVxuICB3cGllQWpheFJlcXVlc3Qod3BpZUFqYXguYWpheFVybCwgJ1BPU1QnLCBkYXRhLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICR0aGlzLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICR0aGlzLmZpbmQoJy5jenMtaGVhcnQtbCcpLnJlbW92ZUNsYXNzKCdjenMtaGVhcnQtbCcpLmFkZENsYXNzKCdjenMtaGVhcnQnKVxuICAgICRjb3VudC5odG1sKGRhdGEuZXh0cmEpXG4gIH0pXG59KVxuXG5jb25zdCAkbm90aWNlV3JhcCA9ICQoXCIubm90aWNlLWNhcm91c2VsLXdyYXBcIik7XG4kbm90aWNlV3JhcC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgY29uc3Qgbm90aWNlTnVtYmVycyA9ICQodGhpcykuZmluZCgnLm5vdGljZS1pdGVtJykubGVuZ3RoXG4gIGNvbnN0ICR0aGlzID0gJCh0aGlzKVxuICBpZiAobm90aWNlTnVtYmVycyA+IDEpIHtcbiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAkdGhpcy5zdG9wKHRydWUsIHRydWUpLmFuaW1hdGUoe1xuICAgICAgICAndG9wJzogJy00NHB4J1xuICAgICAgfSwgMjAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICR0aGlzLmNzcygndG9wJywgJy0ycHgnKTtcbiAgICAgICAgJHRoaXMuYXBwZW5kKCR0aGlzLmZpbmQoXCIubm90aWNlLWl0ZW06Zmlyc3RcIikpO1xuICAgICAgfSk7XG4gICAgfSwgNjAwMCk7XG4gIH1cbn0pXG5cbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuZmlnaHRpbmcnLCAoKSA9PiB7XG4gICQoJ2JvZHksIGh0bWwnKS5hbmltYXRlKHtcbiAgICBzY3JvbGxUb3A6IDBcbiAgfSwgNjAwKVxufSlcblxuJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XG4gIGxldCBzY3JvbGxUb3AgPSAkKGRvY3VtZW50KS5zY3JvbGxUb3AoKVxuXG4gIGlmIChzY3JvbGxUb3AgPiAxMDAwKSB7XG4gICAgJCgnLmZpZ2h0aW5nJykuYWRkQ2xhc3MoXCJhY3RpdmVcIilcbiAgfSBlbHNlIHtcbiAgICAkKCcuZmlnaHRpbmcnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKVxuICB9XG59KVxuXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAkKHdpbmRvdykudHJpZ2dlcihcInNjcm9sbFwiKTtcbn07XG5cbiQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xuICAkKHdpbmRvdykudHJpZ2dlcihcInNjcm9sbFwiKTtcbn0pO1xuXG5jb25zdCBlbGVtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1zd2l0Y2gnKSk7XG5jb25zdCAkYnRuQnJpZWYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanMtYnJpZWYnKVxuY29uc3QgJGJ0bkRhcmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanMtZGFyaycpXG5cbmlmIChDb29raWVzLmdldCgnYnJpZWYnKSA9PT0gJ3RydWUnKSB7XG4gICRidG5CcmllZi5jaGVja2VkID0gJ2NoZWNrZWQnXG59XG5cbmlmIChDb29raWVzLmdldCgnZGFyaycpID09PSAndHJ1ZScpIHtcbiAgJGJ0bkRhcmsuY2hlY2tlZCA9ICdjaGVja2VkJ1xuICAkKCdib2R5JykuYWRkQ2xhc3MoJ2RhcmsnKVxufVxuXG4kYnRuQnJpZWYub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICgkYnRuQnJpZWYuY2hlY2tlZCkge1xuICAgIENvb2tpZXMuc2V0KCdicmllZicsIHRydWUpXG4gICAgJCgnLmNhcmQnKS5hZGRDbGFzcygnY2FyZC1icmllZicpXG4gIH0gZWxzZSB7XG4gICAgQ29va2llcy5zZXQoJ2JyaWVmJywgZmFsc2UpXG4gICAgJCgnLmNhcmQnKS5yZW1vdmVDbGFzcygnY2FyZC1icmllZicpXG4gIH1cbn1cblxuJGJ0bkRhcmsub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICgkYnRuRGFyay5jaGVja2VkKSB7XG4gICAgQ29va2llcy5zZXQoJ2RhcmsnLCAndHJ1ZScpXG4gICAgJCgnYm9keScpLmFkZENsYXNzKCdkYXJrJylcbiAgfSBlbHNlIHtcbiAgICBDb29raWVzLnNldCgnZGFyaycsICdmYWxzZScpXG4gICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdkYXJrJylcbiAgfVxufVxuXG5lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7XG4gIG5ldyBTd2l0Y2hlcnkoZWxlbSwge3NpemU6ICdzbWFsbCd9KTtcbn0pOyJdfQ==
